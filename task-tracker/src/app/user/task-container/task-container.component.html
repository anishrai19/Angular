<div class="flex justify-between min-w-screen bg-gray-300">
  <div class="m-2">
    <div class="flex-1 justify-center items-center font-extrabold p-2 text-2xl">
      Task Tracker
    </div>
  </div>
  <div class="flex justify-end mr-4 mt-4">
    <app-button (click)="logout()"> Logout </app-button>
  </div>
</div>

<div class="flex justify-center items-center min-w-screen bg-gray-100">
  <div class="flex-1 flex justify-center">
    <div class="flex px-8 py-2 mt-2">
      <app-button class="flex-auto mx-4" (click)="subCycle(TaskContainerComponent.index0)"
        >{{ cycles[TaskContainerComponent.index0]?.cycleStartDate }}-{{
          cycles[TaskContainerComponent.index0]?.cycleEndDate
        }}</app-button
      >
      <app-button class="flex-auto mx-4" (click)="subCycle(TaskContainerComponent.index1)"
        >{{ cycles[TaskContainerComponent.index1]?.cycleStartDate }}-{{
          cycles[TaskContainerComponent.index1]?.cycleEndDate
        }}</app-button
      >
      <app-button class="flex-auto mx-4" (click)="subCycle(TaskContainerComponent.index2)"
        >{{ cycles[TaskContainerComponent.index2]?.cycleStartDate }}-{{
          cycles[TaskContainerComponent.index2]?.cycleEndDate
        }}</app-button
      >
      <app-button
        class="flex justify-end mx-0 disabled:opacity-25"
        [disabled]="nextCycleStatus"
        (click)="nextCycle()"
        >Next Cycle</app-button
      >
    </div>
  </div>
</div>

<section class="flex items-center justify-evenly h-full">
  <div
    class="rounded-lg px-8 py-2 mt-1 text-center shadow-lg w-96 h-100 bg-blue-100"
  >
    <h1 class="text-black text-2xl">Procedural</h1>
    <section *ngFor="let task of tasks">
      <div
        *ngIf="task.activityId.category === '6264e50bade61df35601016e'"
        class="rounded-lg px-8 py-3 mt-2 text-left bg-white shadow-lg w-80 h-1/3"
        [class.bg-orange-200]="task.activityId.isOptional === true"
        [class.bg-green-300]="task.status.status === status.COMPLETED"
      >
        <p class="mb-4">Title : {{ task.activityId.activityName }}</p>
        <app-button
          *ngIf="task.status.status === status.PENDING"
          (click)="onOpenTask(task._id)"
        >
          Complete Task</app-button
        >
      </div>
    </section>
  </div>
  <div
    class="rounded-lg px-8 py-2 mt-1 text-center shadow-lg w-96 h-100 bg-blue-100"
  >
    <h1 class="text-black text-2xl">Documental</h1>
    <section *ngFor="let task of tasks">
      <div
        *ngIf="task.activityId.category === '6264e50bade61df35601016f'"
        class="rounded-lg px-8 py-3 mt-2 text-left bg-white shadow-lg w-80 h-1/3"
        [class.bg-orange-200]="task.activityId.isOptional === true"
        [class.bg-green-300]="task.status.status === status.COMPLETED"
      >
        <p class="mb-4">Title : {{ task.activityId.activityName }}</p>

        <app-button
          *ngIf="task.status.status === status.PENDING"
          (click)="onOpenTask(task._id)"
          >Complete Task</app-button
        >
        <!-- <p>Status : {{ task.status }}</p> -->
      </div>
    </section>
  </div>
  <div
    class="rounded-lg px-8 py-2 mt-1 text-center shadow-lg w-96 h-100 bg-blue-100"
  >
    <h1 class="text-black text-2xl">Clinical</h1>
    <section *ngFor="let task of tasks">
      <div
        *ngIf="task.activityId.category === '6264e50bade61df356010170'"
        class="rounded-lg px-8 py-3 mt-2 text-left bg-white shadow-lg w-80 h-1/3"
        [class.bg-orange-200]="task.activityId.isOptional === true"
        [class.bg-green-300]="task.status.status === status.COMPLETED"
      >
        <p class="mb-4">Title : {{ task.activityId.activityName }}</p>
        <app-button
          *ngIf="task.status.status === status.PENDING"
          (click)="onOpenTask(task._id)"
          >Complete Task</app-button
        >
      </div>
    </section>
  </div>
</section>
