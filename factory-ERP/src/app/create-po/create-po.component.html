<mat-toolbar color="warn" class="header">
  <span>Create Purchase Order </span>
</mat-toolbar>
<div class="main-container">
     <div class="logout">
      <button mat-raised-button type="submit" color="primary" (click)="logout()">Log-out</button>
     </div>

<div class="container">
    
  <mat-card class="employeeForm">
     
    <h2>PO Form</h2>
    
    <!-- <mat-toolbar color="primary"></mat-toolbar> -->
    <form
      class="createPO-form"
      fxLayout="column"
      [formGroup]="createPOForm"
      
    >

     <mat-form-field appearance="fill">
        <mat-label>Customer Name</mat-label>
        <mat-select formControlName="customer_id">
          <mat-option *ngFor="let role of customers_id" [value]="role._id">
            {{ role.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>

       <mat-form-field>
        <mat-label>Address</mat-label>
        <input matInput type="text" placeholder="city,state,country" formControlName="address" />
      </mat-form-field>

      
           <section formArrayName="product" *ngFor="let product of productsControls; let i = index">
          <p>Product Details - </p>
          <div [formGroupName]="i">
            <mat-form-field>
              <mat-label>Product Name</mat-label>
              <input
                matInput
                type="text"
                placeholder="Product Name"
                formControlName="productName"
                name = "productName{{ i }}"
              />
            </mat-form-field>
            <mat-form-field>
              <mat-label>Dimension</mat-label>
              <input
                matInput
                type="text"
                placeholder="Enter Product Dimension"
                formControlName="dimensions"
                name = "dimensions{{ i }}"
              />
            </mat-form-field>
            <mat-form-field>
              <mat-label>Quantity</mat-label>
              <input
                matInput
                type="number"
                placeholder="Enter Quantity"
                formControlName="quantity"
                name = "quantity{{ i }}"
              />
            </mat-form-field>
            <mat-form-field>
              <mat-label>Price</mat-label>
              <input
                matInput
                type="number"
                placeholder="Rate Per Unit"
                formControlName="price"
                name = "rate{{ i }}"
              />
            </mat-form-field>
            <mat-form-field>
              <mat-label>Material</mat-label>
              <input
                matInput
                type="text"
                placeholder="Material Type"
                formControlName="material"
              />
            </mat-form-field>
            <button mat-raised-button (click)="removeProduct(i)">Remove Product</button>
          </div>
        
      </section>

      <button mat-raised-button (click)="addProduct()">
          +Add Product
        </button>
        <button mat-raised-button type="submit" (click)="onSubmitForm()" [disabled]="createPOForm.invalid">Create Order</button>
    </form>
  </mat-card>
</div>



